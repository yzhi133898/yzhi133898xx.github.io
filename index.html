<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¾®åš - å‘ç°æ–°é²œäº‹</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }

    body {
      background-color: #f5f8fa;
      color: #14171a;
      line-height: 1.5;
    }

    .header {
      background-color: white;
      border-bottom: 1px solid #e6ecf0;
      padding: 10px 0;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .nav-user{
      position: relative;
      top: -10px;
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 24px;
      font-weight: bold;
      color: #1da1f2;
    }

    .nav-search {
      flex: 1;
      max-width: 400px;
      margin: 0 20px;
      position: relative;
    }

    .nav-search input {
      width: 100%;
      padding: 8px 12px 8px 36px;
      border-radius: 20px;
      border: 1px solid #e6ecf0;
      background-color: #f5f8fa;
      outline: none;
      transition: all 0.2s;
    }

    .nav-search input:focus {
      background-color: white;
      border-color: #1da1f2;
    }

    .nav-search i {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: #657786;
    }

    .nav-links {
      display: flex;
      gap: 20px;
    }

    .nav-link {
      color: #657786;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .nav-link.active,
    .nav-link:hover {
      color: #1da1f2;
    }

    /* å…³é”®ï¼šä¸‰æ å¸ƒå±€å®¹å™¨ */
    .container {
      max-width: 1200px;
      margin: 20px auto;
      padding: 0 20px;
      display: flex; /* æ¨ªå‘æ’åˆ— */
      gap: 20px;
    }

    /* å·¦ä¾§è¾¹æ  */
    .sidebar-left {
      width: 280px;
      flex-shrink: 0; /* å›ºå®šå®½åº¦ä¸ç¼©æ”¾ */
    }

    /* ä¸­é—´ä¸»å†…å®¹åŒº */
    .main-content {
      flex: 1; /* å å‰©ä½™ç©ºé—´ */
      max-width: 600px;
    }

    /* å³ä¾§è¾¹æ ï¼ˆæ–°å¢ï¼‰ */
    .sidebar-right {
      width: 280px;
      flex-shrink: 0; /* å›ºå®šå®½åº¦ä¸ç¼©æ”¾ */
    }

    /* ä¾§è¾¹æ é€šç”¨æ ·å¼ï¼ˆå·¦å³ä¾§é€šç”¨ï¼‰ */
    .sidebar-section {
      background-color: white;
      border-radius: 15px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .sidebar-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 15px;
      color: #14171a;
    }

    .trending-item {
      margin-bottom: 15px;
      cursor: pointer;
      transition: background-color 0.2s;
      padding: 5px;
      border-radius: 8px;
    }

    .trending-item:hover {
      background-color: #f5f8fa;
    }

    .trending-topic {
      font-weight: 600;
      margin-bottom: 3px;
    }

    .trending-count {
      font-size: 14px;
      color: #657786;
    }

    .user-item {
      margin-bottom: 15px;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .user-avatar {
      position: relative;
      top: 20px;
      margin: 10px;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      object-fit: cover;
    }

    .user-name {
      font-weight: 600;
    }

    .user-handle {
      font-size: 14px;
      color: #657786;
    }

    /* å‘å¸ƒåŒºåŸŸæ ·å¼ */
    .publish-section {
      background-color: white;
      border-radius: 15px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .publish-header {
      display: flex;
      gap: 10px;
    }

    .publish-input-container {
      flex: 1;
    }

    #weibo-content {
      width: 100%;
      border: none;
      outline: none;
      resize: none;
      font-size: 16px;
      padding: 10px 0;
      min-height: 80px;
    }

    .publish-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
    }

    .action-buttons {
      display: flex;
      gap: 10px;
    }

    .action-btn {
      background: none;
      border: none;
      color: #1da1f2;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 5px;
      padding: 5px 10px;
      border-radius: 20px;
      transition: background-color 0.2s;
    }

    .action-btn:hover {
      background-color: #e8f5fe;
    }

    .publish-button {
      background-color: #1da1f2;
      color: white;
      border: none;
      border-radius: 20px;
      padding: 8px 16px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .publish-button:disabled {
      background-color: #a5d8ff;
      cursor: not-allowed;
    }

    .publish-button:hover:not(:disabled) {
      background-color: #1a91da;
    }

    /* å¾®åšåˆ—è¡¨æ ·å¼ */
    .weibo-container {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .weibo-item {
      background-color: white;
      border-radius: 15px;
      padding: 15px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .weibo-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }

    .weibo-header {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }

    .weibo-user-info {
      flex: 1;
    }

    .weibo-username {
      font-weight: 600;
    }

    .weibo-time {
      font-size: 14px;
      color: #657786;
    }

    .weibo-content {
      margin-bottom: 10px;
      line-height: 1.6;
    }

    .weibo-images {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin-bottom: 10px;
    }

    .weibo-image {
      width: calc(50% - 5px);
      border-radius: 10px;
      object-fit: cover;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .weibo-image:hover {
      transform: scale(1.02);
    }

    .weibo-actions {
      display: flex;
      justify-content: space-around;
      padding-top: 10px;
      border-top: 1px solid #f5f8fa;
    }

    .action-count {
      display: flex;
      align-items: center;
      gap: 5px;
      color: #657786;
      background: none;
      border: none;
      cursor: pointer;
      padding: 5px 10px;
      border-radius: 20px;
      transition: all 0.2s;
    }

    .action-count:hover {
      background-color: #e8f5fe;
      color: #1da1f2;
    }

    .liked {
      color: #e0245e;
    }

    .btn {
      padding: 12px 10px;
      border-radius: 10px;
      font-weight: 600;
      height: 45px;
      width: 70px;
      cursor: pointer;
      transition: all 0.2s;
      margin: 6px;
    }

    .btn-primary {
      background-color: #1da1f2;
      color: white;
      border: none;
    }

    .btn-primary:hover {
      background-color: #1a91da;
    }

    .btn-outline {
      background-color: transparent;
      color: #1da1f2;
      border: 1px solid #1da1f2;
    }

    .btn-outline:hover {
      background-color: #e8f5fe;
    }

    /* å³ä¾§å…³æ³¨æŒ‰é’®å°æ ·å¼ */
    .btn-follow {
      padding: 4px 10px;
      font-size: 14px;
      margin-left: auto; /* é å³å¯¹é½ */
    }

    /* æ¨¡æ€æ¡†æ ·å¼ */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1001;
    }

    .modal-content {
      background-color: white;
      border-radius: 15px;
      width: 100%;
      max-width: 500px;
      box-shadow: 0 5px 25px rgba(0,0,0,0.2);
    }

    .modal-header {
      padding: 15px 20px;
      border-bottom: 1px solid #e6ecf0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-header h3 {
      font-size: 20px;
      font-weight: bold;
    }

    .close-btn {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #657786;
      transition: color 0.2s;
    }

    .close-btn:hover {
      color: #14171a;
    }

    .modal-body {
      padding: 20px;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
    }

    .form-input {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #e6ecf0;
      border-radius: 8px;
      outline: none;
      transition: border-color 0.2s ease;
    }

    .form-input:focus {
      border-color: #1da1f2;
    }

    .form-switch {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 15px 0;
    }

    .form-link {
      color: #1da1f2;
      text-decoration: none;
    }

    .form-link:hover {
      text-decoration: underline;
    }

    .comments-section {
      margin-top: 12px;
      border-top: 1px solid #e6ecf0;
      padding-top: 12px;
    }

    .comment-item {
      display: flex;
      gap: 10px;
      margin-bottom: 12px;
    }

    .comment-content {
      background: #f8f9fa;
      padding: 10px 12px;
      border-radius: 12px;
      flex: 1;
    }

    .comment-username {
      font-weight: bold;
      color: #14171a;
      margin-bottom: 4px;
    }

    .comment-text {
      color: #14171a;
      line-height: 1.4;
    }

    .emoji-picker {
      background: white;
      border: 1px solid #e6ecf0;
      border-radius: 8px;
      padding: 12px;
      margin-top: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .emoji-category span {
      font-weight: 500;
      color: #657786;
      font-size: 14px;
      margin-bottom: 8px;
      display: block;
    }

    .emoji-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .emoji {
      font-size: 20px;
      cursor: pointer;
      padding: 4px;
      border-radius: 4px;
      transition: background-color 0.2s ease;
    }

    .emoji:hover {
      background-color: #e8f5fe;
    }

    .image-preview {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }

    .preview-item {
      position: relative;
      width: 100px;
      height: 100px;
      border-radius: 8px;
      overflow: hidden;
    }

    .preview-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .remove-image {
      position: absolute;
      top: 5px;
      right: 5px;
      background-color: rgba(0,0,0,0.5);
      color: white;
      border: none;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.2s;
    }

    .remove-image:hover {
      background-color: rgba(0,0,0,0.7);
    }

    /* å“åº”å¼å¸ƒå±€ï¼ˆå…³é”®ï¼šæ§åˆ¶å³ä¾§åˆ—æ˜¾ç¤ºï¼‰ */
    @media (max-width: 1200px) {
      .container {
        max-width: 1000px;
      }
    }

    /* å±å¹•å°äº1000pxæ—¶ï¼Œéšè—å·¦å³ä¾§è¾¹æ  */
    @media (max-width: 1000px) {
      .sidebar-left, .sidebar-right {
        display: none;
      }
      .main-content {
        max-width: 100%;
        width: 100%;
      }
    }

    @media (max-width: 768px) {
      .nav-search {
        width: 200px;
      }
    }

    .footer {
      background: white;
      border-top: 1px solid #e6ecf0;
      padding: 20px 0;
      margin-top: 30px;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
    }

    .footer-link {
      color: #657786;
      text-decoration: none;
      font-size: 14px;
    }

    .footer-link:hover {
      color: #1da1f2;
    }

    .copyright {
      text-align: center;
      color: #657786;
      font-size: 13px;
      margin-top: 15px;
    }

    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(29, 161, 242, 0.3);
      border-radius: 50%;
      border-top-color: #1da1f2;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .empty-state {
      text-align: center;
      padding: 40px 20px;
      color: #657786;
    }

    .empty-state i {
      font-size: 40px;
      margin-bottom: 15px;
      color: #ccd6dd;
    }

    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      z-index: 1001;
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    /* æ·±è‰²æ¨¡å¼é€‚é… */
    body.dark-theme {
      background-color: #15202b;
      color: #ffffff;
    }

    body.dark-theme .header,
    body.dark-theme .sidebar-section,
    body.dark-theme .publish-section,
    body.dark-theme .weibo-item,
    body.dark-theme .modal-content,
    body.dark-theme .footer {
      background-color: #192734;
      color: #ffffff;
    }

    body.dark-theme .nav-search {
      background: #253341;
    }

    body.dark-theme .nav-search input {
      color: #ffffff;
      background-color: #253341;
    }

    body.dark-theme .form-input {
      background-color: #253341;
      border-color: #38444d;
      color: #ffffff;
    }

    body.dark-theme .comment-content {
      background-color: #253341;
    }

    body.dark-theme .trending-count,
    body.dark-theme .user-handle,
    body.dark-theme .weibo-time,
    body.dark-theme .footer-link,
    body.dark-theme .copyright {
      color: #8899a6;
    }

    body.dark-theme .form-label,
    body.dark-theme .sidebar-title,
    body.dark-theme .weibo-username,
    body.dark-theme .comment-username {
      color: #ffffff;
    }
  </style>
</head>
<body>
  <!-- å¤´éƒ¨å¯¼èˆª -->
  <header class="header">
    <div class="nav-container">
      <div class="nav-brand">
        <i class="fab fa-weibo"></i>
        <span>å¾®åš</span>
      </div>
      
      <div class="nav-search">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="æœç´¢å¾®åš" id="search-input">
      </div>
      
      <nav class="nav-links">
        <a href="#" class="nav-link active">
          <i class="fas fa-home"></i>
          <span>é¦–é¡µ</span>
        </a>
        <a href="#" class="nav-link">
          <i class="fas fa-video"></i>
          <span>è§†é¢‘</span>
        </a>
        <a href="#" class="nav-link">
          <i class="fas fa-compass"></i>
          <span>å‘ç°</span>
        </a>
        <a href="#" class="nav-link">
          <i class="fas fa-gamepad"></i>
          <span>æ¸¸æˆ</span>
        </a>
      </nav>
      
      <div class="nav-user " id="nav-user">
        <button id="login-btn" class="btn btn-outline">ç™»å½•</button>
        <button id="register-btn" class="btn btn-primary">æ³¨å†Œ</button>
      </div>
    </div>
  </header>
  
  <!-- ä¸‰æ å¸ƒå±€å®¹å™¨ -->
  <div class="container">
    <!-- å·¦ä¾§è¾¹æ  -->
    <aside class="sidebar-left">
      <div class="sidebar-section">
        <h3 class="sidebar-title">çƒ­é—¨è¯é¢˜</h3>
        <div class="trending-item">
          <div class="trending-topic" onclick="navigateToPage('è¡¨ç™½.html')">

            <i></i># å…¨å›½ç»Ÿä¸€å¤§å¸‚åœº</div>
            
          <div class="trending-count">18.5ä¸‡è®¨è®º</div>
        </div>
        <div class="trending-item">
          <div class="trending-topic"># 2025å¹´æ”¾å‡å®‰æ’</div>
          <div class="trending-count">15.2ä¸‡è®¨è®º</div>
        </div>
        <div class="trending-item">
          <div class="trending-topic"># æ–°èƒ½æºè½¦è¡¥è´´æ”¿ç­–</div>
          <div class="trending-count">12.8ä¸‡è®¨è®º</div>
        </div>
        <div class="trending-item">
          <div class="trending-topic"># æ•°å­—ç»æµæ–°æœºé‡</div>
          <div class="trending-count">9.7ä¸‡è®¨è®º</div>
        </div>
      </div>
      
      <div class="sidebar-section">
        <h3 class="sidebar-title">çƒ­é—¨ç”¨æˆ·</h3>
        <div class="user-item">
          <div class="user-info">
            <img src="https://picsum.photos/40/40?random=10" alt="ç§‘æŠ€å‰æ²¿è§‚å¯Ÿå¤´åƒ" class="user-avatar">
            <div>
              <div class="user-name">ç§‘æŠ€å‰æ²¿è§‚å¯Ÿ</div>
              <div class="user-handle">@tech_observer</div>
            </div>
          </div>
        </div>
        <div class="user-item">
          <div class="user-info">
            <img src="https://picsum.photos/40/40?random=11" alt="ç”Ÿæ´»ç¾å­¦æŒ‡å—å¤´åƒ" class="user-avatar">
            <div>
              <div class="user-name">ç”Ÿæ´»ç¾å­¦æŒ‡å—</div>
              <div class="user-handle">@life_aesthetics</div>
            </div>
          </div>
        </div>
        <div class="user-item">
          <div class="user-info">
            <img src="https://picsum.photos/40/40?random=12" alt="è´¢ç»èµ„è®¯é€Ÿé€’å¤´åƒ" class="user-avatar">
            <div>
              <div class="user-name">è´¢ç»èµ„è®¯é€Ÿé€’</div>
              <div class="user-handle">@finance_news</div>
            </div>
          </div>
        </div>
      </div>
    </aside>
    
    <!-- ä¸­é—´ä¸»å†…å®¹åŒº -->
    <main class="main-content">
      <!-- å‘å¸ƒå¾®åšåŒºåŸŸ -->
      <div class="publish-section">
        <div class="publish-header">
          <img src="https://picsum.photos/40/40?random=1" alt="å½“å‰ç”¨æˆ·å¤´åƒ" class="user-avatar" id="current-user-avatar" style="display: none;">
          <div class="publish-input-container">
            <textarea id="weibo-content" placeholder="æœ‰ä»€ä¹ˆæ–°é²œäº‹æƒ³å‘Šè¯‰å¤§å®¶ï¼Ÿ"></textarea>
            <div class="publish-actions">
              <div class="action-buttons">
                <button id="image-upload-btn" class="action-btn">
                  <i class="fas fa-image"></i>
                  <span>å›¾ç‰‡</span>
                </button>
                <button class="action-btn" id="emoji-btn">
                  <i class="fas fa-smile"></i>
                  <span>è¡¨æƒ…</span>
                </button>
                <button class="action-btn" id="mention-btn">
                  <i class="fas fa-at"></i>
                  <span>@</span>
                </button>
                <button class="action-btn" id="topic-btn">
                  <i class="fas fa-hashtag"></i>
                  <span>è¯é¢˜</span>
                </button>
              </div>
              <button id="publish-btn" class="publish-button" disabled>å‘å¸ƒ</button>
              <input type="file" id="image-input" accept="image/*" multiple style="display: none;">
            </div>
          </div>
        </div>
        <!-- å›¾ç‰‡é¢„è§ˆåŒºåŸŸ -->
        <div id="image-preview" class="image-preview"></div>
        <!-- Emojié€‰æ‹©å™¨ -->
        <div id="emoji-picker" class="emoji-picker" style="display: none;">
          <div class="emoji-category">
            <span>å¸¸ç”¨</span>
            <div class="emoji-list">
              <span class="emoji">ğŸ˜€</span>
              <span class="emoji">ğŸ˜‚</span>
              <span class="emoji">ğŸ˜</span>
              <span class="emoji">ğŸ¥°</span>
              <span class="emoji">ğŸ˜</span>
              <span class="emoji">ğŸ‘</span>
              <span class="emoji">â¤ï¸</span>
              <span class="emoji">ğŸ™</span>
              <span class="emoji">ğŸ”¥</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- å¾®åšå†…å®¹å±•ç¤ºåŒºåŸŸ -->
      <div id="weibo-container" class="weibo-container"></div>
    </main>
    
    <!-- å³ä¾§è¾¹æ ï¼ˆæ–°å¢ï¼‰ -->
    <aside class="sidebar-right">
      <!-- å³ä¾§å†…å®¹1ï¼šæ¨èå…³æ³¨ -->
      <div class="sidebar-section">
        <h3 class="sidebar-title" id="mytext" >æ¨èå…³æ³¨</h3>
        <div class="user-item">
          <div class="user-info">
            <img src="https://picsum.photos/40/40?random=20" alt="ç¾é£Ÿè¾¾äººå¤´åƒ" class="user-avatar">
            <div>
              <div class="user-name">ç¾é£Ÿè¾¾äººé˜¿æœ¨</div>
              <div class="user-handle">@food_amu</div>
            </div>
            <button class="btn btn-primary btn-follow">å…³æ³¨</button>
          </div>
        </div>
        <div class="user-item">
          <div class="user-info">
            <img src="https://picsum.photos/40/40?random=21" alt="æ—…è¡Œæ—¥è®°å¤´åƒ" class="user-avatar">
            <div>
              <div class="user-name">æ—…è¡Œæ—¥è®°</div>
              <div class="user-handle">@travel_daily</div>
            </div>
            <button class="btn btn-primary btn-follow">å…³æ³¨</button>
          </div>
        </div>
        <div class="user-item">
          <div class="user-info">
            <img src="https://picsum.photos/40/40?random=22" alt="å¥èº«æ•™ç»ƒå¤´åƒ" class="user-avatar">
            <div>
              <div class="user-name">å¥èº«æ•™ç»ƒMike</div>
              <div class="user-handle">@fitness_mike</div>
            </div>
            <button class="btn btn-primary btn-follow">å…³æ³¨</button>
          </div>
        </div>
      </div>
      
      <!-- å³ä¾§å†…å®¹2ï¼šçƒ­é—¨æ´»åŠ¨ -->
      <div class="sidebar-section">
        <h3 class="sidebar-title">çƒ­é—¨æ´»åŠ¨</h3>
        <div class="trending-item">
          <div class="trending-topic"># ç§‹æ—¥æ‘„å½±å¤§èµ›</div>
          <div class="trending-count">5.3ä¸‡å‚ä¸</div>
        </div>
        <div class="trending-item">
          <div class="trending-topic"># å¥½ä¹¦åˆ†äº«å­£</div>
          <div class="trending-count">3.8ä¸‡å‚ä¸</div>
        </div>
        <div class="trending-item">
          <div class="trending-topic"># åŸå¸‚é©¬æ‹‰æ¾</div>
          <div class="trending-count">2.1ä¸‡å‚ä¸</div>
        </div>
      </div>
      
      <!-- å³ä¾§å†…å®¹3ï¼šå¾®åšå°ç§˜ä¹¦ -->
      <div class="sidebar-section">
        <h3 class="sidebar-title">å¾®åšå°ç§˜ä¹¦</h3>
        <div style="padding: 10px; background-color: #f5f8fa; border-radius: 10px;">
          <p style="font-size: 14px;">å®Œæˆå®åè®¤è¯ï¼Œè§£é”æ›´å¤šåŠŸèƒ½</p>
          <button class="btn btn-outline" style="margin-top: 10px; width: 100%;">å»è®¤è¯</button>
        </div>
      </div>
    </aside>
  </div>
  
  <!-- é¡µè„š -->
  <footer class="footer">
    <div class="footer-links">
      <a href="#" class="footer-link">å…³äºå¾®åš</a>
      <a href="#" class="footer-link">å¾®åšå®¢æœ</a>
      <a href="#" class="footer-link">å¾®åšæ‹›è˜</a>
      <a href="#" class="footer-link">æŠ•è¯‰å»ºè®®</a>
      <a href="#" class="footer-link">è®¤è¯ä¸åˆä½œ</a>
      <a href="#" class="footer-link">å¼€æ”¾å¹³å°</a>
      <a href="#" class="footer-link">éšç§æ”¿ç­–</a>
    </div>
    <div class="copyright">Â© 2025 å¾®åš äº¬ICPå¤‡12002058å·</div>
  </footer>
  
  <!-- ç™»å½•æ¨¡æ€æ¡† -->
  <div id="login-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>ç™»å½•å¾®åš</h3>
        <button id="close-login-modal" class="close-btn">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ç”¨æˆ·å/æ‰‹æœºå·/é‚®ç®±</label>
          <input type="text" class="form-input" id="login-username">
        </div>
        <div class="form-group">
          <label class="form-label">å¯†ç </label>
          <input type="password" class="form-input" id="login-password">
        </div>
        <button id="submit-logon" class="btn btn-primary" style="width: 100%;">ç™»å½•</button>
        <div class="form-switch">
          <span>è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ</span>
          <a href="#" class="form-link" id="switch-to-register">ç«‹å³æ³¨å†Œ</a>
        </div>
      </div>
    </div>
  </div>
  
  <!-- æ³¨å†Œæ¨¡æ€æ¡† -->
  <div id="register-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>æ³¨å†Œå¾®åš</h3>
        <button id="close-register-modal" class="close-btn">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">æ‰‹æœºå·</label>
          <input type="tel" class="form-input" id="register-phone">
        </div>
        <div class="form-group">
          <label class="form-label">å¯†ç </label>
          <input type="password" class="form-input" id="register-password">
        </div>
        <div class="form-group">
          <label class="form-label">ç¡®è®¤å¯†ç </label>
          <input type="password" class="form-input" id="register-password-confirm">
        </div>
        <button id="submit-register" class="btn btn-primary" style="width: 100%;">æ³¨å†Œ</button>
        <div class="form-switch">
          <span>å·²æœ‰è´¦å·ï¼Ÿ</span>
          <a href="#" class="form-link" id="switch-to-logon">ç«‹å³ç™»å½•</a>
        </div>
      </div>
    </div>
  </div>
  
  <!-- è¯„è®ºæ¨¡æ€æ¡† -->
  <div id="comment-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>å‘è¡¨è¯„è®º</h3>
        <button id="close-comment-modal" class="close-btn">&times;</button>
      </div>
      <div class="modal-body">
        <textarea id="comment-content" class="form-input" placeholder="å†™ä¸‹ä½ çš„è¯„è®º..." style="min-height: 100px; resize: vertical;"></textarea>
        <div class="modal-actions" style="margin-top: 15px; text-align: right;">
          <button id="submit-comment" class="btn btn-primary">è¯„è®º</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- è®¾ç½®æ¨¡æ€æ¡† -->
  <div id="settings-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>è®¾ç½®</h3>
        <button id="close-settings-modal" class="close-btn">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ä¸»é¢˜</label>
          <select class="form-input" id="theme-select">
            <option value="light">æµ…è‰²</option>
            <option value="dark">æ·±è‰²</option>
            <option value="auto">è·Ÿéšç³»ç»Ÿ</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">é€šçŸ¥</label>
          <div class="checkbox-group">
            <input type="checkbox" id="notify-comments">
            <label for="notify-comments">æ–°è¯„è®ºé€šçŸ¥</label>
          </div>
          <div class="checkbox-group">
            <input type="checkbox" id="notify-likes">
            <label for="notify-likes">ç‚¹èµé€šçŸ¥</label>
          </div>
        </div>
        <button id="save-settings" class="btn btn-primary" style="width: 100%;">ä¿å­˜è®¾ç½®</button>
      </div>
    </div>
  </div>
  
  <script>
    class WeiboApp {
      constructor() {
        this.currentWeiboId = null;
        this.isLoggedIn = false;
        this.currentUser = null;
        this.images = [];
        this.init();
      }
      
      init() {
        this.bindEvents();
        this.loadWeibos();
        this.checkLoginStatus();
        this.loadSettings();
      }
      
      bindEvents() {
        // å‘å¸ƒå¾®åšæŒ‰é’®äº‹ä»¶
        document.getElementById('publish-btn').addEventListener('click', () => this.publishWeibo());
        
        // å¾®åšå†…å®¹è¾“å…¥ç›‘å¬
        document.getElementById('weibo-content').addEventListener('input', (e) => {
          const publishBtn = document.getElementById('publish-btn');
          publishBtn.disabled = e.target.value.trim().length === 0;
        });
        
        // å›¾ç‰‡ä¸Šä¼ æŒ‰é’®äº‹ä»¶
        document.getElementById('image-upload-btn').addEventListener('click', () => {
          document.getElementById('image-input').click();
        });
        
        // å›¾ç‰‡é€‰æ‹©äº‹ä»¶
        document.getElementById('image-input').addEventListener('change', (e) => this.handleImageSelect(e));
        
        // è¡¨æƒ…æŒ‰é’®äº‹ä»¶
        document.getElementById('emoji-btn').addEventListener('click', () => this.toggleEmojiPicker());
        
        // è¯é¢˜æŒ‰é’®äº‹ä»¶
        document.getElementById('topic-btn').addEventListener('click', () => this.insertTopic());
        
        // @æŒ‰é’®äº‹ä»¶
        document.getElementById('mention-btn').addEventListener('click', () => this.insertMention());
        
        // æœç´¢åŠŸèƒ½
        document.getElementById('search-input').addEventListener('input', (e) => this.handleSearch(e.target.value));
        
        // ç™»å½•æ³¨å†ŒæŒ‰é’®äº‹ä»¶
        document.getElementById('login-btn').addEventListener('click', () => this.showLoginModal());
        document.getElementById('register-btn').addEventListener('click', () => this.showRegisterModal());
        
        // æ¨¡æ€æ¡†å…³é—­äº‹ä»¶
        document.getElementById('close-login-modal').addEventListener('click', () => this.closeLoginModal());
        document.getElementById('close-register-modal').addEventListener('click', () => this.closeRegisterModal());
        document.getElementById('close-comment-modal').addEventListener('click', () => this.closeCommentModal());
        document.getElementById('close-settings-modal').addEventListener('click', () => this.closeSettingsModal());
        
        // ç™»å½•æ³¨å†Œåˆ‡æ¢
        document.getElementById('switch-to-register').addEventListener('click', (e) => {
          e.preventDefault();
          this.closeLoginModal();
          this.showRegisterModal();
        });
        
        document.getElementById('switch-to-logon').addEventListener('click', (e) => {
          e.preventDefault();
          this.closeRegisterModal();
          this.showLoginModal();
        });
        
        // æäº¤ç™»å½•æ³¨å†Œ
        document.getElementById('submit-logon').addEventListener('click', () => this.submitLogin());
        document.getElementById('submit-register').addEventListener('click', () => this.submitRegister());
        document.getElementById('submit-comment').addEventListener('click', () => this.submitComment());
        document.getElementById('save-settings').addEventListener('click', () => this.saveSettings());
        
        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        window.addEventListener('click', (e) => {
          if (e.target.classList.contains('modal')) {
            this.closeLoginModal();
            this.closeRegisterModal();
            this.closeCommentModal();
            this.closeSettingsModal();
          }
        });
        
        // é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', (e) => {
          if (e.ctrlKey && e.key === 'Enter') {
            this.publishWeibo();
          }
          
          if (e.key === 'Escape') {
            this.closeLoginModal();
            this.closeRegisterModal();
            this.closeCommentModal();
            this.closeSettingsModal();
          }
        });
        
        // Emojiç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.emoji').forEach(emoji => {
          emoji.addEventListener('click', () => this.insertEmoji(emoji.textContent));
        });

        // å³ä¾§å…³æ³¨æŒ‰é’®äº‹ä»¶ï¼ˆæ–°å¢ï¼‰
        document.querySelectorAll('.btn-follow').forEach(btn => {
          btn.addEventListener('click', function() {
            if (this.textContent === 'å…³æ³¨') {
              this.textContent = 'å·²å…³æ³¨';
              this.classList.remove('btn-primary');
              this.classList.add('btn-outline');
              weiboApp.showNotification('å…³æ³¨æˆåŠŸï¼', 'success');
            } else {
              this.textContent = 'å…³æ³¨';
              this.classList.remove('btn-outline');
              this.classList.add('btn-primary');
              weiboApp.showNotification('å·²å–æ¶ˆå…³æ³¨', 'info');
            }
          });
        });
      }
      
      checkLoginStatus() {
        const savedUser = localStorage.getItem('currentUser');
        if (savedUser) {
          this.currentUser = JSON.parse(savedUser);
          this.isLoggedIn = true;
          this.updateUIAfterLogin();
        }
      }
      
      handleImageSelect(event) {
        const files = event.target.files;
        const previewContainer = document.getElementById('image-preview');
        
        Array.from(files).forEach(file => {
          if (file.type.startsWith('image/')) {
            const reader = new FileReader();
            reader.onload = (e) => {
              const previewItem = document.createElement('div');
              previewItem.className = 'preview-item';
              
              const img = document.createElement('img');
              img.src = e.target.result;
              img.alt = 'é€‰æ‹©çš„å›¾ç‰‡é¢„è§ˆ';
              
              const removeBtn = document.createElement('button');
              removeBtn.className = 'remove-image';
              removeBtn.innerHTML = 'Ã—';
              removeBtn.addEventListener('click', () => {
                previewItem.remove();
              });
              
              previewItem.appendChild(img);
              previewItem.appendChild(removeBtn);
              previewContainer.appendChild(previewItem);
              
              this.images.push(e.target.result);
            };
            reader.readAsDataURL(file);
          }
        });
        
        event.target.value = '';
      }
      
      toggleEmojiPicker() {
        const emojiPicker = document.getElementById('emoji-picker');
        emojiPicker.style.display = emojiPicker.style.display === 'none' ? 'block' : 'none';
      }
      
      insertEmoji(emoji) {
        const textarea = document.getElementById('weibo-content');
        const start = textarea.selectionStart;
        const end = textarea.selectionEnd;
        const text = textarea.value;
        const before = text.substring(0, start);
        const after = text.substring(end, text.length);
        
        textarea.value = before + emoji + after;
        textarea.focus();
        textarea.selectionStart = textarea.selectionEnd = start + emoji.length;
        
        document.getElementById('emoji-picker').style.display = 'none';
      }
      
      insertTopic() {
        const textarea = document.getElementById('weibo-content');
        const topic = prompt('è¯·è¾“å…¥è¯é¢˜åç§°ï¼š');
        if (topic) {
          const start = textarea.selectionStart;
          const end = textarea.selectionEnd;
          const text = textarea.value;
          const before = text.substring(0, start);
          const after = text.substring(end, text.length);
          
          textarea.value = before + `#${topic}# ` + after;
          textarea.focus();
        }
      }
      
      insertMention() {
        const textarea = document.getElementById('weibo-content');
        const user = prompt('è¯·è¾“å…¥è¦@çš„ç”¨æˆ·åï¼š');
        if (user) {
          const start = textarea.selectionStart;
          const end = textarea.selectionEnd;
          const text = textarea.value;
          const before = text.substring(0, start);
          const after = text.substring(end, text.length);
          
          textarea.value = before + `@${user} ` + after;
          textarea.focus();
        }
      }
      
      handleSearch(query) {
        const weibos = this.getWeibos();
        const container = document.getElementById('weibo-container');
        
        if (!query.trim()) {
          container.innerHTML = '';
          weibos.forEach(weibo => this.renderWeibo(weibo));
          return;
        }
        
        const filteredWeibos = weibos.filter(weibo => 
          weibo.content.toLowerCase().includes(query.toLowerCase()) ||
          weibo.username.toLowerCase().includes(query.toLowerCase())
        );
        
        container.innerHTML = '';
        filteredWeibos.forEach(weibo => this.renderWeibo(weibo));
      }
      
      publishWeibo() {
        if (!this.isLoggedIn) {
          this.showNotification('è¯·å…ˆç™»å½•åå†å‘å¸ƒå¾®åš', 'warning');
          this.showLoginModal();
          return;
        }
        
        const content = document.getElementById('weibo-content').value.trim();
        if (!content) return;
        
        const previewContainer = document.getElementById('image-preview');
        const imageElements = previewContainer.querySelectorAll('img');
        const images = Array.from(imageElements).map(img => img.src);
        
        const weibo = {
          id: Date.now(),
          username: this.currentUser.username,
          content: content,
          images: images,
          likes: 0,
          reposts: 0,
          comments: [],
          timestamp: new Date().toISOString(),
          liked: false,
          reposted: false
        };
        
        this.saveWeibo(weibo);
        this.renderWeibo(weibo);
        
        // æ¸…ç©ºè¾“å…¥æ¡†å’Œå›¾ç‰‡é¢„è§ˆ
        document.getElementById('weibo-content').value = '';
        document.getElementById('publish-btn').disabled = true;
        previewContainer.innerHTML = '';
        this.images = [];
        
        this.showNotification('å¾®åšå‘å¸ƒæˆåŠŸï¼', 'success');
      }
      
      showLoginModal() {
        document.getElementById('login-modal').style.display = 'flex';
      }
      
      closeLoginModal() {
        document.getElementById('login-modal').style.display = 'none';
        document.getElementById('login-username').value = '';
        document.getElementById('login-password').value = '';
      }
      
      showRegisterModal() {
        document.getElementById('register-modal').style.display = 'flex';
      }
      
      closeRegisterModal() {
        document.getElementById('register-modal').style.display = 'none';
        document.getElementById('register-phone').value = '';
        document.getElementById('register-password').value = '';
        document.getElementById('register-password-confirm').value = '';
      }
      
      showCommentModal(weiboId) {
        this.currentWeiboId = weiboId;
        document.getElementById('comment-modal').style.display = 'flex';
      }
      
      closeCommentModal() {
        document.getElementById('comment-modal').style.display = 'none';
        document.getElementById('comment-content').value = '';
      }
      
      showSettingsModal() {
        document.getElementById('settings-modal').style.display = 'flex';
      }
      
      closeSettingsModal() {
        document.getElementById('settings-modal').style.display = 'none';
      }
      
      submitLogin() {
        const username = document.getElementById('login-username').value.trim();
        const password = document.getElementById('login-password').value.trim();
        
        if (!username || !password) {
          this.showNotification('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ', 'warning');
          return;
        }
        
        const users = JSON.parse(localStorage.getItem('users') || '[]');
        const user = users.find(u => 
          (u.username === username || u.phone === username) && u.password === password
        );
        
        if (user) {
          this.currentUser = user;
          this.isLoggedIn = true;
          localStorage.setItem('currentUser', JSON.stringify(user));
          this.updateUIAfterLogin();
          this.closeLoginModal();
          this.showNotification('ç™»å½•æˆåŠŸï¼', 'success');
        } else {
          this.showNotification('ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯', 'error');
        }
      }
      
      submitRegister() {
        const phone = document.getElementById('register-phone').value.trim();
        const password = document.getElementById('register-password').value.trim();
        const passwordConfirm = document.getElementById('register-password-confirm').value.trim();
        
        if (!phone) {
          this.showNotification('è¯·è¾“å…¥æ‰‹æœºå·', 'warning');
          return;
        }
        
        if (password !== passwordConfirm) {
          this.showNotification('ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´', 'warning');
          return;
        }
        
        if (password.length < 6) {
          this.showNotification('å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½', 'warning');
          return;
        }
        
        const users = JSON.parse(localStorage.getItem('users') || '[]');
        
        // æ£€æŸ¥æ‰‹æœºå·æ˜¯å¦å·²æ³¨å†Œ
        if (users.find(u => u.phone === phone)) {
          this.showNotification('è¯¥æ‰‹æœºå·å·²æ³¨å†Œ', 'warning');
          return;
        }
        
        const newUser = {
          id: Date.now(),
          username: 'ç”¨æˆ·' + Math.random().toString(36).substr(2, 6),
          phone: phone,
          password: password,
          avatar: `https://picsum.photos/40/40?random=${Date.now()}`,
          joinDate: new Date().toISOString()
        };
        
        users.push(newUser);
        localStorage.setItem('users', JSON.stringify(users));
        
        this.showNotification('æ³¨å†ŒæˆåŠŸï¼è¯·ç™»å½•', 'success');
        this.closeRegisterModal();
        this.showLoginModal();
      }
      
      submitComment() {
        if (!this.isLoggedIn) {
          this.showNotification('è¯·å…ˆç™»å½•åå†è¯„è®º', 'warning');
          this.closeCommentModal();
          this.showLoginModal();
          return;
        }
        
        const content = document.getElementById('comment-content').value.trim();
        if (!content) {
          this.showNotification('è¯·è¾“å…¥è¯„è®ºå†…å®¹', 'warning');
          return;
        }
        
        const comment = {
          id: Date.now(),
          username: this.currentUser.username,
          content: content,
          timestamp: new Date().toISOString()
        };
        
        const weibos = this.getWeibos();
        const weiboIndex = weibos.findIndex(w => w.id === this.currentWeiboId);
        
        if (weiboIndex !== -1) {
          weibos[weiboIndex].comments.push(comment);
          localStorage.setItem('weibos', JSON.stringify(weibos));
          
          this.closeCommentModal();
          this.loadWeibos();
          this.showNotification('è¯„è®ºå‘å¸ƒæˆåŠŸï¼', 'success');
        }
      }
      
      saveSettings() {
        const theme = document.getElementById('theme-select').value;
        const notifyComments = document.getElementById('notify-comments').checked;
        const notifyLikes = document.getElementById('notify-likes').checked;
        
        const settings = {
          theme: theme,
          notifyComments: notifyComments,
          notifyLikes: notifyLikes
        };
        
        localStorage.setItem('settings', JSON.stringify(settings));
        this.applyTheme(theme);
        this.closeSettingsModal();
        this.showNotification('è®¾ç½®ä¿å­˜æˆåŠŸï¼', 'success');
      }
      
      loadSettings() {
        const savedSettings = localStorage.getItem('settings');
        if (savedSettings) {
          const settings = JSON.parse(savedSettings);
          document.getElementById('theme-select').value = settings.theme;
          document.getElementById('notify-comments').checked = settings.notifyComments;
          document.getElementById('notify-likes').checked = settings.notifyLikes;
          this.applyTheme(settings.theme);
        }
      }
      
      applyTheme(theme) {
        if (theme === 'dark' || (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
          document.body.classList.add('dark-theme');
        } else {
          document.body.classList.remove('dark-theme');
        }
      }
      
      updateUIAfterLogin() {
        const navUser = document.getElementById('nav-user');
        const currentUserAvatar = document.getElementById('current-user-avatar');
        
        navUser.innerHTML = `
            <img src="${this.currentUser.avatar}" alt="${this.currentUser.username}" class="user-avatar">
            <span>${this.currentUser.username}</span>
            <button id="settings-btn" class="btn btn-outline">è®¾ç½®</button>
            <button id="logout-btn" class="btn btn-outline">é€€å‡º</button>
        `;
        
        currentUserAvatar.style.display = 'block';
        currentUserAvatar.src = this.currentUser.avatar;
        currentUserAvatar.alt = this.currentUser.username;
        
        document.getElementById('settings-btn').addEventListener('click', () => this.showSettingsModal());
        document.getElementById('logout-btn').addEventListener('click', () => this.logout());
      }
      
      logout() {
        this.isLoggedIn = false;
        this.currentUser = null;
        localStorage.removeItem('currentUser');
        
        const navUser = document.getElementById('nav-user');
        navUser.innerHTML = `
            <button id="login-btn" class="btn btn-outline">ç™»å½•</button>
            <button id="register-btn" class="btn btn-primary">æ³¨å†Œ</button>
        `;
        
        document.getElementById('current-user-avatar').style.display = 'none';
        
        this.showNotification('å·²é€€å‡ºç™»å½•', 'info');
        
        // é‡æ–°ç»‘å®šç™»å½•æ³¨å†ŒæŒ‰é’®äº‹ä»¶
        document.getElementById('login-btn').addEventListener('click', () => this.showLoginModal());
        document.getElementById('register-btn').addEventListener('click', () => this.showRegisterModal());
      }
      
      getWeibos() {
        return JSON.parse(localStorage.getItem('weibos') || '[]');
      }
      
      saveWeibo(weibo) {
        const weibos = this.getWeibos();
        weibos.unshift(weibo);
        localStorage.setItem('weibos', JSON.stringify(weibos));
      }
      
      loadWeibos() {
        const weibos = this.getWeibos();
        const container = document.getElementById('weibo-container');
        container.innerHTML = '';
        
        if (weibos.length === 0) {
          this.loadSampleWeibos();
          return;
        }
        
        weibos.forEach(weibo => this.renderWeibo(weibo));
      }
      
      loadSampleWeibos() {
        const sampleWeibos = [
          {
            id: 1,
            username: 'ç§‘æŠ€å‰æ²¿è§‚å¯Ÿ',
            content: 'äººå·¥æ™ºèƒ½æŠ€æœ¯æ­£åœ¨å¿«é€Ÿå‘å±•ï¼Œç‰¹åˆ«æ˜¯åœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸã€‚æœ€æ–°çš„æ¨¡å‹å·²ç»èƒ½å¤Ÿç†è§£å’Œç”Ÿæˆæ¥è¿‘äººç±»æ°´å¹³çš„æ–‡æœ¬å†…å®¹ã€‚',
            images: ['https://picsum.photos/300/200?random=1'],
            likes: 245,
            reposts: 67,
            comments: [
              {
                id: 101,
                username: 'å¼€å‘è€…å°ç‹',
                content: 'ç¡®å®ï¼Œç°åœ¨AIçš„å‘å±•é€Ÿåº¦ä»¤äººæƒŠå¹ï¼',
                timestamp: '2025-11-03T10:30:00Z'
              }
            ],
            timestamp: '2025-11-04T08:15:00Z',
            liked: false,
            reposted: false
          },
          {
            id: 2,
            username: 'ç”Ÿæ´»ç¾å­¦æŒ‡å—',
            content: 'å‘¨æœ«å»äº†ä¸€è¶ŸéƒŠå¤–çš„æ£®æ—å…¬å›­ï¼Œç§‹å¤©çš„æ™¯è‰²çœŸçš„å¾ˆç¾ã€‚åˆ†äº«å‡ å¼ éšæ‰‹æ‹çš„ç…§ç‰‡ç»™å¤§å®¶ï½',
            images: [
              'https://picsum.photos/300/200?random=2',
              'https://picsum.photos/300/200?random=3',
              'https://picsum.photos/300/200?random=4'
            ],
            likes: 189,
            reposts: 34,
            comments: [],
            timestamp: '2025-11-03T14:20:00Z',
            liked: false,
            reposted: false
          },
          {
            id: 3,
            username: 'è´¢ç»èµ„è®¯é€Ÿé€’',
            content: 'æ•°å­—ç»æµæ­£åœ¨æˆä¸ºæ¨åŠ¨ç»æµå¢é•¿çš„é‡è¦å¼•æ“ã€‚æ®æœ€æ–°æ•°æ®æ˜¾ç¤ºï¼Œä»Šå¹´å‰ä¸‰å­£åº¦æ•°å­—ç»æµè§„æ¨¡åŒæ¯”å¢é•¿è¶…è¿‡15%ã€‚',
            images: [],
            likes: 156,
            reposts: 28,
            comments: [
              {
                id: 301,
                username: 'æŠ•èµ„åˆ†æå¸ˆ',
                content: 'è¿™ä¸ªå¢é•¿è¶‹åŠ¿ç¡®å®å¾ˆæ˜æ˜¾ï¼Œç‰¹åˆ«æ˜¯åœ¨çº¿æ•™è‚²ã€è¿œç¨‹åŠå…¬ç­‰é¢†åŸŸã€‚',
                timestamp: '2025-11-02T16:45:00Z'
              }
            ],
            timestamp: '2025-11-02T15:30:00Z',
            liked: false,
            reposted: false
          }
        ];
        
        localStorage.setItem('weibos', JSON.stringify(sampleWeibos));
        sampleWeibos.forEach(weibo => this.renderWeibo(weibo));
      }
      
      renderWeibo(weibo) {
        const container = document.getElementById('weibo-container');
        
        const weiboElement = document.createElement('div');
        weiboElement.className = 'weibo-item';
        weiboElement.innerHTML = `
            <div class="weibo-header">
                <img src="https://picsum.photos/40/40?random=${weibo.id}" class="user-avatar">
                <div class="weibo-user-info">
                    <div class="weibo-username">${weibo.username}</div>
                    <div class="weibo-time">${this.formatTime(weibo.timestamp)}</div>
                </div>
            </div>
            <div class="weibo-content">${weibo.content}</div>
            ${weibo.images && weibo.images.length > 0 ? `
                <div class="weibo-images">
                    ${weibo.images.map(img => `
                        <img src="${img}" alt="å¾®åšå›¾ç‰‡" class="weibo-image">
                    `).join('')}
                </div>
            ` : ''}
            <div class="weibo-actions">
                <button class="action-count ${weibo.liked ? 'liked' : ''}" onclick="weiboApp.handleLike(${weibo.id})">
                    <i class="fas fa-heart"></i>
                    <span>${weibo.likes}</span>
                </button>
                <button class="action-count ${weibo.reposted ? 'liked' : ''}" onclick="weiboApp.handleRepost(${weibo.id})">
                    <i class="fas fa-retweet"></i>
                    <span>${weibo.reposts}</span>
                </button>
                <button class="action-count" onclick="weiboApp.showCommentModal(${weibo.id})">
                    <i class="fas fa-comment"></i>
                    <span>${weibo.comments.length}</span>
                </button>
            </div>
            ${weibo.comments && weibo.comments.length > 0 ? `
                <div class="comments-section">
                    ${weibo.comments.map(comment => `
                        <div class="comment-item">
                            <img src="https://picsum.photos/30/30?random=${comment.id}" class="user-avatar">
                            <div class="comment-content">
                                <div class="comment-username">${comment.username}</div>
                                <div class="comment-text">${comment.content}</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            ` : ''}
        `;
        
        container.appendChild(weiboElement);
      }
      
      handleLike(weiboId) {
        if (!this.isLoggedIn) {
          this.showNotification('è¯·å…ˆç™»å½•åå†ç‚¹èµ', 'warning');
          this.showLoginModal();
          return;
        }
        
        const weibos = this.getWeibos();
        const weiboIndex = weibos.findIndex(w => w.id === weiboId);
        
        if (weiboIndex !== -1) {
          if (weibos[weiboIndex].liked) {
            weibos[weiboIndex].likes--;
            weibos[weiboIndex].liked = false;
          } else {
            weibos[weiboIndex].likes++;
            weibos[weiboIndex].liked = true;
          }
          
          localStorage.setItem('weibos', JSON.stringify(weibos));
          this.loadWeibos();
        }
      }
      
      handleRepost(weiboId) {
        if (!this.isLoggedIn) {
          this.showNotification('è¯·å…ˆç™»å½•åå†è½¬å‘', 'warning');
          this.showLoginModal();
          return;
        }
        
        const weibos = this.getWeibos();
        const weiboIndex = weibos.findIndex(w => w.id === weiboId);
        
        if (weiboIndex !== -1) {
          if (weibos[weiboIndex].reposted) {
            weibos[weiboIndex].reposts--;
            weibos[weiboIndex].reposted = false;
          } else {
            weibos[weiboIndex].reposts++;
            weibos[weiboIndex].reposted = true;
          }
          
          localStorage.setItem('weibos', JSON.stringify(weibos));
          this.loadWeibos();
        }
      }
      
      formatTime(timestamp) {
        const now = new Date();
        const time = new Date(timestamp);
        const diff = now - time;
        
        if (diff < 60000) { // 1åˆ†é’Ÿå†…
          return 'åˆšåˆš';
        } else if (diff < 3600000) { // 1å°æ—¶å†…
          return `${Math.floor(diff / 60000)}åˆ†é’Ÿå‰`;
        } else if (diff < 86400000) { // 1å¤©å†…
          return `${Math.floor(diff / 3600000)}å°æ—¶å‰`;
        } else if (diff < 604800000) { // 1å‘¨å†…
          return `${Math.floor(diff / 86400000)}å¤©å‰`;
        } else {
          return time.toLocaleDateString('zh-CN');
        }
      }
      
      showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `notification notification-${type}`;
        notification.textContent = message;
        notification.style.backgroundColor = 
          type === 'success' ? '#10b981' : 
          type === 'warning' ? '#f59e0b' :
          type === 'error' ? '#ef4444' : '#1da1f2';
        
        document.body.appendChild(notification);
        
        setTimeout(() => {
          notification.remove();
        }, 3000);
      }
    }

    // åˆå§‹åŒ–åº”ç”¨
    const weiboApp = new WeiboApp();

    // å…¨å±€å‡½æ•°ä¾›HTMLè°ƒç”¨
    window.weiboApp = weiboApp;
  </script>
</body>
</html>
<script>
 // JavaScriptè·³è½¬å‡½æ•°
        function navigateToPage(pageUrl) {
            window.location.href = pageUrl;
        }

        // å¸¦ç¡®è®¤çš„è·³è½¬å‡½æ•°
        function confirmNavigation() {
            if (confirm('ç¡®å®šè¦è·³è½¬åˆ°å…¨å›½ç»Ÿä¸€å¤§å¸‚åœºé¡µé¢å—ï¼Ÿ')) {
                window.location.href = 'è¡¨ç™½.html';
            }
        }
</script>

		
